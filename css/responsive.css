/* ==========================================================================
   LEAD CAST – responsive.css（モバイル最適・ドロワー洗練版）
   方針：
   - main.css はPC前提。ここでモバイル/タブレットの上書きを行う
   - クリーム背景へ統一、ドロワーは不透明・狭幅・角丸・内部スクロール
   構成：0)全体 1)≤1200 2)≤1024 3)≤768 4)≤600 5)≤480 6)汎用
   編集のコツ：コメント脇の数値だけ変えれば印象を微調整できます
   ========================================================================== */



@media (max-width:1024px){
  body{
    background:none !important;           /* 画像を無効化 */
    background-color:#FFF6E5 !important;  /* クリーム色 */
  }
  body::before{ content:none !important; }/* main.css の白レイヤを無効化 */
}   

/* ========== 1) ≤1200px：やや凝縮（PC→タブレット手前） ========== */
@media (max-width: 1200px){
  .container{ width:min(100% - 40px, var(--container)); }
  .hero__inner{ gap:36px; }
}


/* ========== 2) ≤1024px：タブレット＆モバイル骨格（ドロワー等） ========== */
/* ========== 2) ≤1024px：タブレット＆モバイル骨格（ドロワー等） ========== */
@media (max-width: 1024px){

  /* --- Header / Hamburger --- */
  .nav-toggle{
    display:inline-flex; align-items:center; justify-content:center;
    position:fixed; top:12px; right:12px; z-index:1102;
    min-width:40px; min-height:40px;
    background:#fff; border:1px solid #cfd6e4; border-radius:10px;
  }
  body.no-scroll{ overflow:hidden; }

  #nav-overlay{
    position:fixed; inset:0; z-index:999;
    background:rgba(16,24,40,.30);
    opacity:0; pointer-events:none; transition:opacity .25s ease;
  }
  #nav-overlay.show{ opacity:1; pointer-events:auto; }

  /* --- Drawer / Global Nav（※ここが要修正箇所） --- */
  .global-nav{
    position: fixed; z-index: 1001;
    top: 12px; right: 12px;          /* 画面端から12px余白 */
    width: min(76vw, 300px);          /* 細身 */
    height: calc(100dvh - 24px);      /* 端末高 − 上下余白 */
    padding: 72px 18px 20px;          /* 上の詰まり → 72px に調整 */
    border-radius: 18px;
    overflow: auto;

    display: flex; flex-direction: column; align-items: stretch;
    row-gap: 6px;

    background: linear-gradient(180deg,#eaf2ff 0%,#f2f6ff 100%) !important;
    background-color: #eaf2ff !important;
    opacity: 1 !important; isolation: isolate;
    -webkit-backdrop-filter: none !important; backdrop-filter: none !important;
    box-shadow: -24px 0 48px rgba(16,24,40,.10), inset 0 1px 0 rgba(255,255,255,.7);

    transform: translateX(110%); transition: transform .28s ease;
  }
  .global-nav.is-open{ transform: translateX(0); }

  .global-nav a{
    position: relative; display:block;
    padding: 14px 42px 14px 20px;     /* 右は矢印ぶん広め */
    border-radius: 12px; line-height: 1.4; font-weight:700; letter-spacing:.02em;
    transition: transform .16s ease, box-shadow .2s ease, background .2s ease;
  }
  .global-nav a:not(.btn)::after{
    content:""; position:absolute; left:12px; right:12px; bottom:-6px;
    height:1px; background:rgba(16,24,40,.07);
  }
  .global-nav a.btn::after{ content:none; }
  .global-nav a:not(.btn)::before{
    content:"›"; position:absolute; top:50%; right:16px; transform:translateY(-50%);
    font-size:16px; opacity:.4;
  }
  .global-nav a:hover,
  .global-nav a:focus-visible{
    background:#fff; transform:translateY(-1px);
    box-shadow:0 8px 24px rgba(16,24,40,.08); text-decoration:none;
  }
  .global-nav a:focus-visible{ outline:2px solid #0b4bf2; outline-offset:2px; }
  .global-nav a[aria-current="page"], .global-nav a.is-active{
    background:#fff; box-shadow:inset 0 0 0 2px rgba(11,75,242,.18);
  }
  .global-nav .btn{
    margin-top:12px; padding:14px 18px; border-radius:12px; font-weight:900;
    box-shadow:0 8px 24px rgba(11,75,242,.25);
  }
  .global-nav .btn::after{ content:" →"; }

  /* --- 以下、既存セクションの調整はそのまま --- */
  .hero{ padding:64px 0; }
  .hero__inner{ grid-template-columns:1fr; text-align:center; }
  .hero__title{ font-size:clamp(2rem,5.8vw,var(--fs-56)); }
  .hero__actions{ justify-content:center; }
  .hero__media img{ margin:0 auto; width:min(520px,92%); }

  .stats .container{ padding:16px 0; }
  .logos{ padding:28px 0; }
  .logos__track{ gap:56px; animation-duration:50s; }
  .logos__track img{ height:48px; }

  .about{ padding:60px 0; }
  .about__grid{ grid-template-columns:1fr; gap:24px; }
  .about__title{ font-size:clamp(1.75rem,4.6vw,var(--fs-40)); }
  .about__video{ max-width:960px; margin:0 auto; }

  .company{ padding:60px 0; }
  .kv{ font-size:clamp(1.6rem,4.4vw,var(--fs-40)); }
  .company__table{ font-size:1rem; gap:6px; }
  .company__table>div{ grid-template-columns:140px 1fr; gap:10px; padding:10px 0; }

  /* スマホ/タブレットでは動画マスクを外し、見出しだけに */
  .service{ padding:64px 0; position:relative; }
  .service__mask{ display:none !important; }
  .service::before{
    content:"SERVICE"; display:block; text-align:center; margin:0 0 16px;
    font-weight:800; color:var(--brand); letter-spacing:.08em;
    font-size:clamp(32px,12vw,56px);
  }
  .services{ grid-template-columns:1fr; gap:20px; }
  .svc{ padding:18px; }
  .svc__img{ height:240px; }

  .team{ padding:64px 0; }
  .team .container::before{ font-size:clamp(56px,18vw,140px); top:-18px; }
  .team__title{ font-size:clamp(1.6rem,4.4vw,var(--fs-40)); }
  .team__track{ grid-auto-columns:50%; }

  .access{ padding:64px 0; }
  .access__grid{ grid-template-columns:1fr; gap:18px; }
  .access__map iframe{ min-height:280px; }

  .site-footer{ padding:20px 0 56px; }

  @media (prefers-reduced-motion: reduce){ .global-nav a{ transition:none; } }
}



/* ========== 3) ≤768px：スマホ最適（ボタン縦積み 等） ========== */
@media (max-width: 768px){
  .brand__logo{ width:48px; }
  .brand__text{ font-size:var(--fs-14); }

  .hero__actions{ flex-direction:column; align-items:stretch; }
  .hero__actions .btn{ width:100%; }

  .logos__track{ gap:40px; animation-duration:42s; }
  .logos__track img{ height:42px; }

  .company__table>div{ grid-template-columns:120px 1fr; }
  .svc__img{ height:200px; }
  .team__track{ grid-auto-columns:72%; }

  .access__map iframe{ min-height:260px; }

  .btn-cta{ right:16px; bottom:16px; padding:12px 16px; }
}


/* ========== 4) ≤600px：文字と余白の微調整 ========== */
@media (max-width: 600px){
  body{ line-height:1.8; }
  .hero__title{ line-height:1.12; }
  .stats__badge{ font-size:1em; }
  .stats__note{ font-size:var(--fs-14); }
  .about__title{ font-size:clamp(1.5rem,5vw,1.75rem); }
  .company__table>div{ grid-template-columns:1fr; gap:6px; }
  .team .container::before{ -webkit-text-stroke:2px rgba(11,75,242,.10); }
  .site-footer nav a{ display:inline-block; margin:4px 8px; }
}


/* ========== 5) ≤480px：小型端末の微調整 ========== */
@media (max-width: 480px){
  .site-header .container{ padding-block:6px; }
  .brand__logo{ width:44px; }
  .nav-toggle{ min-width:36px; min-height:36px; }

  .hero__media img{ width:88%; }

  .logos__track{ gap:28px; animation-duration:36s; }
  .logos__track img{ height:36px; }

  .svc{ padding:16px; }
  .svc__img{ height:180px; }

  .team__track{ grid-auto-columns:86%; }

  .access__map iframe{ min-height:220px; }

  .btn-cta{ padding:10px 14px; font-size:var(--fs-14); border-radius:999px; }
}


/* ========== 6) 汎用：タップしやすさ/画像はみ出し/演出軽減 ========== */
@media (max-width: 768px){
  a,button{ touch-action:manipulation; }
  .btn{ min-height:44px; }
  img,video{ max-width:100%; height:auto; }

  /* スクロール演出の移動量を控えめに（視差酔い対策） */
  .js-enabled .fade-up{ transition-duration:.7s; transform:translateY(22px); }
}



/* 初期はフォールバックを隠す */
.service__fallback{ display:none; }

/* Safari/iPad を検出したら動画マスクを隠してフォールバック表示 */
.is-safari .service__mask{ display:none !important; }
.is-safari .service__fallback{
  display:block;
  text-align:center;
  font-weight:800;
  letter-spacing:.08em;
  margin:0 0 16px;
  font-size: clamp(48px, 12vw, 120px);

  /* 好みで：ポスター画像を文字にクリップ（静止画でもリッチに見える） */
  background: url("images/service_poster.jpg") center/cover no-repeat;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;

  /* クリップ非対応時の保険（青文字） */
  /* color: var(--brand); */
}

/* 既にスマホでは動画マスクを消して青文字にしているのでそのまま維持 */
@media (max-width:1024px){
  .service__mask{ display:none !important; }
  .service::before{
    content:"SERVICE"; display:block; text-align:center; margin:0 0 16px;
    font-weight:800; color:var(--brand); letter-spacing:.08em;
    font-size:clamp(32px,12vw,56px);
  }
}
